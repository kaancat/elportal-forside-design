#!/usr/bin/env npx tsx

import { createClient } from '@sanity/client'
import dotenv from 'dotenv'
import { fileURLToPath } from 'url'
import { dirname, resolve } from 'path'

// Get __dirname equivalent in ES modules
const __filename = fileURLToPath(import.meta.url)
const __dirname = dirname(__filename)

// Load environment variables
dotenv.config({ path: resolve(__dirname, '../.env') })

if (!process.env.VITE_SANITY_PROJECT_ID || !process.env.SANITY_API_TOKEN) {
  throw new Error('Missing required environment variables')
}

const client = createClient({
  projectId: process.env.VITE_SANITY_PROJECT_ID,
  dataset: 'production',
  useCdn: false,
  apiVersion: '2025-01-01',
  token: process.env.SANITY_API_TOKEN,
})

// Helper function to generate unique keys
const generateKey = () => Math.random().toString(36).substr(2, 9)

// Helper function to create text blocks
const createTextBlock = (text: string, style: 'normal' | 'h1' | 'h2' | 'h3' | 'h4' = 'normal') => ({
  _type: 'block',
  _key: generateKey(),
  style,
  children: [{
    _type: 'span',
    _key: generateKey(),
    text,
    marks: []
  }]
})

async function recreateLeverandoerSammenligning() {
  console.log('üîß Recreating Leverand√∏r Sammenligning page with auto-generated ID...')

  try {
    // First, delete the old page with hardcoded ID
    console.log('üóëÔ∏è Deleting old page with hardcoded ID...')
    await client.delete('page.leverandoer-sammenligning')
    
    console.log('‚úÖ Old page deleted')
    console.log('üìù Creating new page with auto-generated ID...')

    const pageContent = {
      _type: 'page',
      title: 'Sammenlign Elselskaber & Find Danmarks Bedste Elpris 2025',
      slug: {
        _type: 'slug',
        current: 'leverandoer-sammenligning'
      },
      seoMetaTitle: 'Sammenlign Elselskaber i Danmark 2025 - Find Bedste Elpris | DinElPortal',
      seoMetaDescription: 'Sammenlign alle danske elselskaber p√• pris, gr√∏n energi og service. Se aktuelle spotpriser, CO2-udledning og spar op til 2.000 kr/√•r. Skift nemt i dag.',
      seoKeywords: [
        'sammenlign elpriser',
        'elselskaber danmark',
        'billigste el',
        'skift elselskab',
        'elpriser dk1 dk2',
        'gr√∏n str√∏m',
        'elpriser i dag',
        'bedste elselskab',
        'vindst√∏d el'
      ],
      contentBlocks: [
        // Hero with Calculator
        {
          _type: 'heroWithCalculator',
          _key: generateKey(),
          headline: 'Find Danmarks Bedste Elselskab',
          subheadline: 'Sammenlign priser fra 40+ elselskaber og spar op til 2.000 kr om √•ret'
        },

        // Provider List - Main comparison component
        {
          _type: 'providerList',
          _key: generateKey(),
          title: 'Sammenlign Alle Danske Elselskaber',
          providers: [] // Empty shows all providers with Vindst√∏d first
        },

        // Page Section: Why Compare
        {
          _type: 'pageSection',
          _key: generateKey(),
          title: 'Derfor skal du sammenligne elselskaber',
          headerAlignment: 'center',
          content: [
            createTextBlock('At v√¶lge det rigtige elselskab kan virke overv√¶ldende med over 40 forskellige muligheder p√• det danske marked. Men forskellen mellem det dyreste og billigste selskab kan betyde tusindvis af kroner om √•ret for din husstand.'),
            createTextBlock(''),
            createTextBlock('Hvad g√∏r et elselskab til det bedste valg?', 'h3'),
            createTextBlock('Det "bedste" elselskab afh√¶nger helt af dine personlige prioriteter:'),
            createTextBlock('‚Ä¢ √ònsker du den absolut laveste pris?'),
            createTextBlock('‚Ä¢ Er √¶gte gr√∏n energi vigtig for dig?'),
            createTextBlock('‚Ä¢ Foretr√¶kker du fast eller variabel pris?'),
            createTextBlock('‚Ä¢ Hvor vigtig er kundeservice og digitale l√∏sninger?'),
            createTextBlock(''),
            createTextBlock('Vores omfattende sammenligning hj√¶lper dig med at finde pr√¶cis det elselskab, der matcher dine behov og v√¶rdier.')
          ]
        },

        // Real Price Comparison Table
        {
          _type: 'pageSection',
          _key: generateKey(),
          title: 'Aktuelle Elpriser Lige Nu',
          headerAlignment: 'center',
          content: [
            createTextBlock('Se de aktuelle spotpriser og sammenlign totalpriser fra forskellige elselskaber i realtid:'),
            {
              _type: 'realPriceComparisonTable',
              _key: generateKey(),
              title: 'Live Prissammenligning',
              subtitle: 'Opdateres hvert 15. minut',
              description: [
                createTextBlock('Tabellen viser den samlede pris inklusiv spotpris, elselskabets till√¶g, netafgifter og moms. Gr√∏nne tal viser de laveste priser.')
              ],
              region: 'DK2',
              highlightLowest: true,
              showSpotPrice: true,
              showProviderFee: true,
              showTotalPrice: true
            }
          ]
        },

        // Declaration Gridmix - CO2 and Energy Production
        {
          _type: 'declarationGridmix',
          _key: generateKey(),
          title: 'Elproduktion og CO‚ÇÇ-udledning',
          subtitle: 'Danmarks energimix og milj√∏p√•virkning i realtid',
          leadingText: [
            createTextBlock('Se hvordan Danmarks el produceres lige nu, og hvor gr√∏n str√∏mmen er. Vindst√∏d leverer 100% vindenergi, mens andre selskaber ofte blander forskellige energikilder.')
          ],
          showSummary: true,
          view: '7d',
          headerAlignment: 'center'
        },

        // Deep Dive: Vindst√∏d
        {
          _type: 'pageSection',
          _key: generateKey(),
          title: 'Vindst√∏d: Vores Gr√∏nne Anbefaling',
          headerAlignment: 'left',
          content: [
            createTextBlock('Vindst√∏d skiller sig ud som Danmarks mest ambiti√∏se gr√∏nne elselskab. Hvor mange selskaber n√∏jes med at k√∏be certifikater, investerer Vindst√∏d aktivt i nye danske vindm√∏lleparker.'),
            createTextBlock(''),
            createTextBlock('Hvad g√∏r Vindst√∏d specielt:', 'h3'),
            createTextBlock('‚Ä¢ 100% dansk vindenergi fra over 2.500 vindm√∏ller'),
            createTextBlock('‚Ä¢ Aktive investeringer i nye vindm√∏lleprojekter'),
            createTextBlock('‚Ä¢ Transparent prisstruktur: kun 1 kr i m√•nedligt gebyr'),
            createTextBlock('‚Ä¢ Moderne app med timeforbrug og CO2-besparelser'),
            createTextBlock('‚Ä¢ Ingen bindingsperiode eller skjulte gebyrer'),
            createTextBlock(''),
            createTextBlock('Prism√¶ssigt ligger Vindst√∏d typisk 2-3 √∏re over de absolut billigste. For en gennemsnitsfamilie betyder det m√•ske 100-150 kr ekstra om √•ret - en lille pris for at st√∏tte udbygningen af dansk vindkraft.'),
            createTextBlock(''),
            createTextBlock('Kundeservice og digitale l√∏sninger:', 'h3'),
            createTextBlock('Vindst√∏d har investeret kraftigt i deres digitale platform. Appen giver fuld kontrol over dit forbrug med timebaserede opg√∏relser, og du kan f√∏lge pr√¶cis hvor meget CO2 du har sparet.')
          ]
        },

        // Consumption Map
        {
          _type: 'consumptionMap',
          _key: generateKey(),
          title: 'Elforbrug i Danmark',
          subtitle: 'Se hvordan elforbruget fordeler sig p√• tv√¶rs af landet',
          leadingText: [
            createTextBlock('Interaktivt kort over Danmarks elforbrug opdelt p√• kommuner. Bem√¶rk forskellen mellem by- og landomr√•der, samt hvordan industritunge omr√•der har h√∏jere forbrug.')
          ],
          headerAlignment: 'center',
          dataSource: 'latest',
          consumerType: 'all',
          colorScheme: 'brand',
          showLegend: true,
          showTooltips: true,
          enableInteraction: true,
          updateInterval: 60,
          defaultView: '24h',
          showStatistics: true,
          mobileLayout: 'responsive'
        },

        // Other Major Providers
        {
          _type: 'pageSection',
          _key: generateKey(),
          title: 'Andre Store Elselskaber i Danmark',
          headerAlignment: 'left',
          content: [
            createTextBlock('√òrsted: Den Store, Stabile Gigant', 'h3'),
            createTextBlock('Danmarks st√∏rste energiselskab og global leder inden for havvind. √òrsted tilbyder b√•de faste og variable priser med stabil leverance. Prism√¶ssigt ligger de i midterfeltet - sj√¶ldent billigst, men heller ikke dyrest.'),
            createTextBlock(''),
            createTextBlock('Norlys: Andelsselskabet med Kunderne i Fokus', 'h3'),
            createTextBlock('Danmarks st√∏rste andelsejede energiselskab. Overskuddet g√•r tilbage til kunderne og lokalsamfundet. Tilbyder attraktive pakkel√∏sninger med el, internet og TV. God balance mellem pris og b√¶redygtighed.'),
            createTextBlock(''),
            createTextBlock('OK: Fra Benzintank til Elstikkontakt', 'h3'),
            createTextBlock('Ofte blandt de billigste p√• markedet gennem volumen og effektivitet. Simple produkter, nem administration og integration med OK bonusprogram. Perfekt for den prisfokuserede forbruger.'),
            createTextBlock(''),
            createTextBlock('Modstr√∏m: Den Digitale Udfordrer', 'h3'),
            createTextBlock('Positionerer sig som billigst og mest klimavenlig. Moderne platform med smart home integration og realtidsforbrug. Tilbyder b√•de variable og faste priser.'),
            createTextBlock(''),
            createTextBlock('Gasel Energi: Lokal Forankring', 'h3'),
            createTextBlock('H√∏jeste kundetilfredshed p√• Trustpilot (4.6/5). Personlig service og lokalt engagement. Gr√∏n profil med investeringer i sol og vind.')
          ]
        },

        // Price Calculator Section
        {
          _type: 'pageSection',
          _key: generateKey(),
          title: 'Beregn Din Besparelse',
          headerAlignment: 'center',
          content: [
            createTextBlock('Brug vores beregner til at se pr√¶cis hvor meget du kan spare ved at skifte elselskab:'),
            {
              _type: 'priceCalculator',
              _key: generateKey(),
              title: 'Personlig Prisberegner'
            }
          ]
        },

        // Value Proposition - WITH CONTENT THIS TIME
        {
          _type: 'valueProposition',
          _key: generateKey(),
          heading: 'Fordele ved at sammenligne elselskaber',
          subheadline: 'Opdag fordelene ved at sammenligne og skifte elselskab',
          content: [
            createTextBlock('Med over 40 elselskaber p√• det danske marked kan det betale sig at bruge 5 minutter p√• at sammenligne priser og services. Vores platform g√∏r det nemt at finde pr√¶cis det elselskab, der matcher dine behov - uanset om du prioriterer lave priser, gr√∏n energi eller excellent kundeservice.')
          ],
          items: [
            {
              _type: 'valueItem',
              _key: generateKey(),
              icon: {
                _type: 'icon.manager',
                name: 'piggy-bank',
                manager: 'lucide',
                metadata: {
                  version: '0.469.0',
                  license: 'ISC',
                  author: 'Lucide Contributors',
                  width: 24,
                  height: 24,
                  viewBox: '0 0 24 24',
                  strokeWidth: 2,
                  stroke: 'currentColor',
                  fill: 'none'
                }
              },
              heading: 'Spar op til 2.000 kr/√•r',
              description: 'Den gennemsnitlige danske familie kan spare mellem 500-2.000 kr √•rligt ved at v√¶lge det rigtige elselskab.'
            },
            {
              _type: 'valueItem',
              _key: generateKey(),
              icon: {
                _type: 'icon.manager',
                name: 'leaf',
                manager: 'lucide',
                metadata: {
                  version: '0.469.0',
                  license: 'ISC',
                  author: 'Lucide Contributors',
                  width: 24,
                  height: 24,
                  viewBox: '0 0 24 24',
                  strokeWidth: 2,
                  stroke: 'currentColor',
                  fill: 'none'
                }
              },
              heading: 'St√∏t den gr√∏nne omstilling',
              description: 'V√¶lg et elselskab der investerer i ny vedvarende energi, ikke bare k√∏ber certifikater.'
            },
            {
              _type: 'valueItem',
              _key: generateKey(),
              icon: {
                _type: 'icon.manager',
                name: 'shield-check',
                manager: 'lucide',
                metadata: {
                  version: '0.469.0',
                  license: 'ISC',
                  author: 'Lucide Contributors',
                  width: 24,
                  height: 24,
                  viewBox: '0 0 24 24',
                  strokeWidth: 2,
                  stroke: 'currentColor',
                  fill: 'none'
                }
              },
              heading: 'Fuld gennemsigtighed',
              description: 'Se alle priser, gebyrer og betingelser samlet √©t sted. Ingen skjulte overraskelser.'
            },
            {
              _type: 'valueItem',
              _key: generateKey(),
              icon: {
                _type: 'icon.manager',
                name: 'zap',
                manager: 'lucide',
                metadata: {
                  version: '0.469.0',
                  license: 'ISC',
                  author: 'Lucide Contributors',
                  width: 24,
                  height: 24,
                  viewBox: '0 0 24 24',
                  strokeWidth: 2,
                  stroke: 'currentColor',
                  fill: 'none'
                }
              },
              heading: 'Skift p√• 5 minutter',
              description: 'Det nye elselskab h√•ndterer alt det praktiske. Du skal bare v√¶lge og tilmelde dig.'
            }
          ]
        },

        // Understanding Electricity Prices
        {
          _type: 'pageSection',
          _key: generateKey(),
          title: 'Forst√• Din Elregning',
          headerAlignment: 'left',
          content: [
            createTextBlock('Din samlede elpris best√•r af flere komponenter:', 'h3'),
            createTextBlock(''),
            createTextBlock('1. Spotpris (ca. 30-40% af total)'),
            createTextBlock('Den r√• elpris der handles p√• Nord Pool elb√∏rsen. Varierer hver time baseret p√• udbud og eftersp√∏rgsel.'),
            createTextBlock(''),
            createTextBlock('2. Elselskabets till√¶g (ca. 5-10%)'),
            createTextBlock('Dette er hvor elselskaberne konkurrerer. Typisk mellem 0,04-0,20 kr/kWh afh√¶ngigt af selskab og produkt.'),
            createTextBlock(''),
            createTextBlock('3. Transport og systemydelser (ca. 20%)'),
            createTextBlock('Betaling for at transportere str√∏mmen gennem elnettet. Fast afgift uanset elselskab.'),
            createTextBlock(''),
            createTextBlock('4. Afgifter og PSO (ca. 30%)'),
            createTextBlock('Elafgift p√• 0,90 kr/kWh (reduceret fra 2025). G√•r til statskassen og gr√∏n omstilling.'),
            createTextBlock(''),
            createTextBlock('5. Moms (25% af alt)'),
            createTextBlock('Standard moms p√• 25% tilf√∏jes til sidst p√• hele bel√∏bet.'),
            createTextBlock(''),
            createTextBlock('Regional prisforskel - DK1 vs DK2:', 'h3'),
            createTextBlock('Danmark er opdelt i to prisomr√•der:'),
            createTextBlock('‚Ä¢ DK1 (Vestdanmark): Jylland og Fyn'),
            createTextBlock('‚Ä¢ DK2 (√òstdanmark): Sj√¶lland og √∏erne'),
            createTextBlock(''),
            createTextBlock('Prisforskellen skyldes forskellige produktionsforhold og transmissionsbegr√¶nsninger mellem omr√•derne. DK1 har typisk lavere priser grundet st√∏rre vindkraftkapacitet.')
          ]
        },

        // Feature List - How to Switch WITH PROPER ICONS
        {
          _type: 'featureList',
          _key: generateKey(),
          title: 'S√•dan skifter du elselskab',
          subtitle: 'Det er nemmere end du tror - f√∏lg disse simple trin',
          features: [
            {
              _type: 'featureItem',
              _key: generateKey(),
              icon: {
                _type: 'icon.manager',
                name: 'search',
                manager: 'lucide',
                metadata: {
                  version: '0.469.0',
                  license: 'ISC',
                  author: 'Lucide Contributors',
                  width: 24,
                  height: 24,
                  viewBox: '0 0 24 24',
                  strokeWidth: 2,
                  stroke: 'currentColor',
                  fill: 'none'
                }
              },
              title: '1. Sammenlign priser',
              description: 'Brug vores sammenligning til at finde det bedste elselskab for dig'
            },
            {
              _type: 'featureItem',
              _key: generateKey(),
              icon: {
                _type: 'icon.manager',
                name: 'file-check',
                manager: 'lucide',
                metadata: {
                  version: '0.469.0',
                  license: 'ISC',
                  author: 'Lucide Contributors',
                  width: 24,
                  height: 24,
                  viewBox: '0 0 24 24',
                  strokeWidth: 2,
                  stroke: 'currentColor',
                  fill: 'none'
                }
              },
              title: '2. Tjek din nuv√¶rende aftale',
              description: 'Se om du har bindingsperiode eller opsigelsesvarsel'
            },
            {
              _type: 'featureItem',
              _key: generateKey(),
              icon: {
                _type: 'icon.manager',
                name: 'user-plus',
                manager: 'lucide',
                metadata: {
                  version: '0.469.0',
                  license: 'ISC',
                  author: 'Lucide Contributors',
                  width: 24,
                  height: 24,
                  viewBox: '0 0 24 24',
                  strokeWidth: 2,
                  stroke: 'currentColor',
                  fill: 'none'
                }
              },
              title: '3. Tilmeld dig nyt selskab',
              description: 'Udfyld tilmeldingen online - det tager kun 2-3 minutter'
            },
            {
              _type: 'featureItem',
              _key: generateKey(),
              icon: {
                _type: 'icon.manager',
                name: 'refresh-cw',
                manager: 'lucide',
                metadata: {
                  version: '0.469.0',
                  license: 'ISC',
                  author: 'Lucide Contributors',
                  width: 24,
                  height: 24,
                  viewBox: '0 0 24 24',
                  strokeWidth: 2,
                  stroke: 'currentColor',
                  fill: 'none'
                }
              },
              title: '4. Automatisk skift',
              description: 'Dit nye elselskab klarer opsigelsen og alt det praktiske'
            },
            {
              _type: 'featureItem',
              _key: generateKey(),
              icon: {
                _type: 'icon.manager',
                name: 'check-circle',
                manager: 'lucide',
                metadata: {
                  version: '0.469.0',
                  license: 'ISC',
                  author: 'Lucide Contributors',
                  width: 24,
                  height: 24,
                  viewBox: '0 0 24 24',
                  strokeWidth: 2,
                  stroke: 'currentColor',
                  fill: 'none'
                }
              },
              title: '5. Velkommen til besparelser',
              description: 'Efter 3 uger er skiftet gennemf√∏rt og du sparer penge'
            }
          ]
        },

        // Green Energy Deep Dive
        {
          _type: 'pageSection',
          _key: generateKey(),
          title: 'Gr√∏n Str√∏m - Hvad er √Ügte B√¶redygtighed?',
          headerAlignment: 'left',
          content: [
            createTextBlock('Ikke al "gr√∏n str√∏m" er skabt lige. Der er stor forskel p√• elselskaber der aktivt investerer i ny vedvarende energi, og dem der blot k√∏ber certifikater.'),
            createTextBlock(''),
            createTextBlock('Certifikater vs. Reel Produktion:', 'h3'),
            createTextBlock('Mange elselskaber markedsf√∏rer sig som "100% gr√∏nne" ved at k√∏be oprindelsesgarantier (certifikater). Dette betyder IKKE at de producerer gr√∏n energi - de k√∏ber bare papirer der beviser at nogen et sted har produceret vedvarende energi.'),
            createTextBlock(''),
            createTextBlock('Vindst√∏d g√•r en anden vej:', 'h3'),
            createTextBlock('‚Ä¢ Ejer og driver over 2.500 danske vindm√∏ller'),
            createTextBlock('‚Ä¢ Investerer aktivt i nye vindm√∏lleparker'),
            createTextBlock('‚Ä¢ Leverer reel vindenergi til det danske elnet'),
            createTextBlock('‚Ä¢ Bidrager direkte til Danmarks energiomstilling'),
            createTextBlock(''),
            createTextBlock('N√•r du v√¶lger Vindst√∏d, st√∏tter du direkte udbygningen af dansk vindkraft - ikke bare handel med certifikater.'),
            createTextBlock(''),
            createTextBlock('Danmarks Energimix 2025:', 'h3'),
            createTextBlock('‚Ä¢ 59% vindenergi'),
            createTextBlock('‚Ä¢ 11% solenergi'),
            createTextBlock('‚Ä¢ 8% biomasse'),
            createTextBlock('‚Ä¢ 22% fossil energi og import'),
            createTextBlock(''),
            createTextBlock('M√•let er 100% vedvarende energi i 2030. Ved at v√¶lge elselskaber der investerer i ny kapacitet, accelererer vi denne omstilling.')
          ]
        },

        // FAQ Section
        {
          _type: 'faqGroup',
          _key: generateKey(),
          title: 'Ofte stillede sp√∏rgsm√•l om elselskaber',
          faqItems: [
            {
              _type: 'faqItem',
              _key: generateKey(),
              question: 'Hvordan kan elselskaber have forskellige priser n√•r str√∏mmen er den samme?',
              answer: [
                createTextBlock('Selvom str√∏mmen er den samme uanset selskab, varierer priserne p√• grund af forskellige forretningsmodeller, effektivitet, marginer og services. Nogle selskaber har lave omkostninger og simple produkter, mens andre tilbyder ekstra services eller investerer i gr√∏n energi.')
              ]
            },
            {
              _type: 'faqItem',
              _key: generateKey(),
              question: 'Er det virkelig gratis at skifte elselskab?',
              answer: [
                createTextBlock('Ja, det er helt gratis at skifte elselskab i Danmark. Dit nye elselskab h√•ndterer alt det praktiske, inklusiv opsigelse af din gamle aftale. Du skal kun betale hvis du har bindingsperiode hos dit nuv√¶rende selskab.')
              ]
            },
            {
              _type: 'faqItem',
              _key: generateKey(),
              question: 'Hvor lang tid tager det at skifte?',
              answer: [
                createTextBlock('Selve tilmeldingen tager 2-3 minutter online. Skiftet gennemf√∏res typisk inden for 3 uger, men kan tage op til 6 uger i sj√¶ldne tilf√¶lde. Du f√•r besked n√•r skiftet er gennemf√∏rt.')
              ]
            },
            {
              _type: 'faqItem',
              _key: generateKey(),
              question: 'Skal jeg l√¶se min m√•ler af ved skift?',
              answer: [
                createTextBlock('Nej, hvis du har en fjernafl√¶st elm√•ler (de fleste har), sker det automatisk. Har du en gammel m√•ler, f√•r du besked om afl√¶sning. Dit netselskab h√•ndterer dette - ikke elselskabet.')
              ]
            },
            {
              _type: 'faqItem',
              _key: generateKey(),
              question: 'Hvad er forskellen p√• fast og variabel pris?',
              answer: [
                createTextBlock('Fast pris betyder samme kWh-pris i hele aftaleperioden - god til budgetsikkerhed. Variabel pris f√∏lger markedet og kan b√•de stige og falde. Historisk set er variabel pris billigst over tid, men fast pris giver tryghed.')
              ]
            },
            {
              _type: 'faqItem',
              _key: generateKey(),
              question: 'Er Vindst√∏d virkelig 100% gr√∏n?',
              answer: [
                createTextBlock('Ja, Vindst√∏d leverer udelukkende str√∏m fra danske vindm√∏ller. De ejer og driver over 2.500 vindm√∏ller og investerer l√∏bende i nye. Dette er ikke bare certifikater, men reel vindenergi produceret i Danmark.')
              ]
            },
            {
              _type: 'faqItem',
              _key: generateKey(),
              question: 'Hvad hvis mit nye elselskab g√•r konkurs?',
              answer: [
                createTextBlock('Du vil aldrig st√• uden str√∏m. Hvis et elselskab g√•r konkurs, overtager dit lokale forsyningsselskab automatisk leverancen til deres standardpriser, indtil du v√¶lger et nyt selskab.')
              ]
            },
            {
              _type: 'faqItem',
              _key: generateKey(),
              question: 'Kan jeg skifte hvis jeg bor til leje?',
              answer: [
                createTextBlock('Ja, hvis elm√•leren st√•r i dit navn. Betaler du el gennem huslejen, skal udlejer skifte. Tjek din lejekontrakt eller sp√∏rg udlejer hvis du er i tvivl.')
              ]
            },
            {
              _type: 'faqItem',
              _key: generateKey(),
              question: 'Hvorfor er der prisforskel mellem √òst- og Vestdanmark?',
              answer: [
                createTextBlock('Danmark har to separate prisomr√•der (DK1 vest og DK2 √∏st) p√• grund af begr√¶nsninger i elnettet mellem landsdelene. Vestdanmark har typisk lavere priser grundet mere vindkraft, mens √òstdanmark oftere m√• importere dyrere str√∏m.')
              ]
            },
            {
              _type: 'faqItem',
              _key: generateKey(),
              question: 'Hvad er spotpris?',
              answer: [
                createTextBlock('Spotprisen er den r√• elpris der handles p√• Nord Pool elb√∏rsen. Den fasts√¶ttes hver dag for hver time n√¶ste d√∏gn, baseret p√• udbud og eftersp√∏rgsel. Elselskabet l√¶gger deres till√¶g oveni spotprisen.')
              ]
            }
          ]
        },

        // Call to Action
        {
          _type: 'callToActionSection',
          _key: generateKey(),
          title: 'Klar til at spare p√• elregningen?',
          buttonText: 'Start sammenligning nu',
          buttonUrl: '#provider-list',
          description: 'Det tager kun 2 minutter at finde dit nye elselskab'
        }
      ]
    }

    // Create the page WITHOUT specifying _id
    const result = await client.create(pageContent)
    console.log('‚úÖ New page created successfully!')
    console.log(`üìÑ Document ID: ${result._id} (auto-generated)`)
    console.log(`üîó Slug: ${result.slug.current}`)
    console.log(`üåê URL: https://dinelportal.dk/${result.slug.current}`)
    
  } catch (error) {
    console.error('‚ùå Recreation failed:', error)
    throw error
  }
}

// Execute recreation
recreateLeverandoerSammenligning()
  .then(() => {
    console.log('\nüéâ Recreation completed successfully!')
    process.exit(0)
  })
  .catch((error) => {
    console.error('\nüí• Recreation failed with error:', error)
    process.exit(1)
  })