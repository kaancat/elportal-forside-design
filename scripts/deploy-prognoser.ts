import { createClient } from '@sanity/client'
import * as dotenv from 'dotenv'

dotenv.config()

const client = createClient({
  projectId: 'yxesi03x',
  dataset: 'production',
  useCdn: false,
  apiVersion: '2025-01-01',
  token: process.env.SANITY_API_TOKEN
})

async function deployPrognoserPage() {
  console.log('üöÄ Starting deployment of comprehensive Prognoser page...')

  // Create FAQ items first
  const faqItems = [
    {
      _id: 'faq-prognoser-1',
      _type: 'faqItem',
      question: 'Hvordan beregnes elpriser i morgen?',
      answer: 'Elpriser for n√¶ste dag fasts√¶ttes dagligt kl. 13:00 p√• Nord Pool elb√∏rsen. Priserne bestemmes af udbud og eftersp√∏rgsel, hvor faktorer som vejr, vindproduktion, solenergi, og forventet forbrug spiller ind. Vores prognoser analyserer disse faktorer for at give dig det bedste overblik.'
    },
    {
      _id: 'faq-prognoser-2',
      _type: 'faqItem',
      question: 'Hvorn√•r er str√∏mmen billigst?',
      answer: 'Typisk er str√∏mmen billigst om natten (kl. 00-06) og n√•r vindproduktionen er h√∏j. I weekender er priserne ofte lavere pga. mindre industriforbrug. Vores time for time prognose viser pr√¶cis, hvorn√•r du kan spare mest p√• dit elforbrug.'
    },
    {
      _id: 'faq-prognoser-3',
      _type: 'faqItem',
      question: 'Kan jeg stole p√• elpris prognoser?',
      answer: 'Vores prognoser er baseret p√• avancerede modeller og realtidsdata. For n√¶ste dag er n√∏jagtigheden meget h√∏j (95%+), da priserne allerede er fastsat. For l√¶ngere prognoser (2-7 dage) er der st√∏rre usikkerhed, is√¶r omkring vejrforhold.'
    },
    {
      _id: 'faq-prognoser-4',
      _type: 'faqItem',
      question: 'Hvad er forskellen p√• DK1 og DK2 priser?',
      answer: 'Danmark er delt i to elprisomr√•der - DK1 (Jylland/Fyn) og DK2 (Sj√¶lland/Bornholm). Priserne kan variere mellem omr√•derne pga. forskellige produktionsforhold og forbindelser til nabolande. Vores prognose viser begge omr√•der.'
    }
  ]

  // Create value proposition items
  const valuePropositionItems = [
    {
      _id: 'value-prop-wind-1',
      _type: 'valuePropositionItem',
      title: 'Vindkraft s√¶nker priserne',
      description: 'N√•r det bl√¶ser meget, falder elpriserne markant. Danmark har nogle af Europas laveste elpriser takket v√¶re vores store vindm√∏llekapacitet.',
      icon: 'Wind'
    },
    {
      _id: 'value-prop-wind-2',
      _type: 'valuePropositionItem',
      title: 'Gr√∏n str√∏m n√•r det passer dig',
      description: 'Vores prognoser viser, hvorn√•r str√∏mmen er mest gr√∏n. Planl√¶g dit forbrug i timer med h√∏j vedvarende energi.',
      icon: 'Leaf'
    },
    {
      _id: 'value-prop-wind-3',
      _type: 'valuePropositionItem',
      title: 'St√∏t den gr√∏nne omstilling',
      description: 'Ved at v√¶lge en leverand√∏r med fokus p√• vindkraft, st√∏tter du direkte udbygningen af vedvarende energi i Danmark.',
      icon: 'TrendingUp'
    }
  ]

  // Deploy FAQ items
  console.log('üìù Creating FAQ items...')
  for (const faq of faqItems) {
    await client.createOrReplace(faq)
  }

  // Deploy value proposition items
  console.log('üí° Creating value proposition items...')
  for (const item of valuePropositionItems) {
    await client.createOrReplace(item)
  }

  // Create the comprehensive page
  const prognoserPage = {
    _id: 'page.prognoser',
    _type: 'page',
    title: 'Elpris Prognose 2025 ‚Ä¢ Elpriser i Morgen ‚Ä¢ Time for Time',
    slug: {
      _type: 'slug',
      current: 'prognoser'
    },
    description: 'Se elpriser i morgen og f√• pr√¶cise elpris prognoser. Time for time oversigt hj√¶lper dig med at planl√¶gge forbrug n√•r str√∏mmen er billigst. Opdateres dagligt.',
    contentBlocks: [
      {
        _key: 'hero-1',
        _type: 'hero',
        heading: 'Se Elpriser i Morgen og Spar Penge',
        subheading: 'F√• pr√¶cise elpris prognoser time for time. Planl√¶g dit elforbrug smart og spar op til 50% p√• din elregning.',
        ctaText: 'Se morgendagens priser',
        ctaLink: '#daily-timeline',
        variant: 'centered'
      },
      {
        _key: 'timeline-1',
        _type: 'dailyPriceTimeline',
        title: 'Elpriser Time for Time - N√¶ste 48 Timer',
        description: 'Se pr√¶cis hvorn√•r str√∏mmen er billigst i morgen. Gr√∏nne timer viser lav pris, r√∏de timer viser h√∏j pris.',
        showAveragePrice: true,
        showPeakHours: true,
        region: 'both'
      },
      {
        _key: 'education-1',
        _type: 'pageSection',
        heading: 'Hvordan Dannes Elpriser i Danmark?',
        headerAlignment: 'left',
        content: [
          {
            _type: 'block',
            _key: 'block1',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Elpriser i Danmark fasts√¶ttes dagligt p√• ',
                _key: 'span1'
              },
              {
                _type: 'span',
                text: 'Nord Pool elb√∏rsen',
                _key: 'span2',
                marks: ['strong']
              },
              {
                _type: 'span',
                text: ', Nordeuropas st√∏rste elmarked. Hver dag kl. 13:00 offentligg√∏res n√¶ste dags spotpriser baseret p√• forventet udbud og eftersp√∏rgsel.',
                _key: 'span3'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block2',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Priserne p√•virkes prim√¶rt af:',
                _key: 'span4'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block3',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: '‚Ä¢ ',
                _key: 'span5',
                marks: ['strong']
              },
              {
                _type: 'span',
                text: 'Vindproduktion',
                _key: 'span6',
                marks: ['strong']
              },
              {
                _type: 'span',
                text: ' - N√•r det bl√¶ser kraftigt, falder priserne markant. Danmark har nogle af Europas laveste elpriser takket v√¶re vores omfattende vindm√∏llekapacitet.',
                _key: 'span7'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block4',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: '‚Ä¢ ',
                _key: 'span8',
                marks: ['strong']
              },
              {
                _type: 'span',
                text: 'Solenergi',
                _key: 'span9',
                marks: ['strong']
              },
              {
                _type: 'span',
                text: ' - S√¶rligt om sommeren bidrager solceller til lavere middagspriser.',
                _key: 'span10'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block5',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: '‚Ä¢ ',
                _key: 'span11',
                marks: ['strong']
              },
              {
                _type: 'span',
                text: 'Forbrug',
                _key: 'span12',
                marks: ['strong']
              },
              {
                _type: 'span',
                text: ' - Morgen og aften ser typisk de h√∏jeste priser pga. √∏get eftersp√∏rgsel.',
                _key: 'span13'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block6',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: '‚Ä¢ ',
                _key: 'span14',
                marks: ['strong']
              },
              {
                _type: 'span',
                text: 'Import/Eksport',
                _key: 'span15',
                marks: ['strong']
              },
              {
                _type: 'span',
                text: ' - Forbindelser til Tyskland, Norge og Sverige p√•virker priserne.',
                _key: 'span16'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block7',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Vores elpris prognose analyserer alle disse faktorer for at give dig det bedste overblik over kommende priser.',
                _key: 'span17'
              }
            ]
          }
        ]
      },
      {
        _key: 'renewable-1',
        _type: 'renewableEnergyForecast',
        title: 'Gr√∏n Energi Prognose - N√¶ste 7 Dage',
        description: 'Se hvorn√•r str√∏mmen er mest klimavenlig. H√∏j vindproduktion betyder b√•de lavere priser og mindre CO2.',
        showPercentages: true,
        showTrend: true
      },
      {
        _key: 'calculator-1',
        _type: 'priceCalculator',
        variant: 'standalone',
        heading: 'Beregn Din Besparelse med Smart Planl√¶gning',
        description: 'Se hvor meget du kan spare ved at flytte dit forbrug til billige timer.'
      },
      {
        _key: 'weekly-trends',
        _type: 'pageSection',
        heading: 'Ugentlige M√∏nstre i Elpriser',
        headerAlignment: 'center',
        content: [
          {
            _type: 'block',
            _key: 'block8',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Elpriserne f√∏lger tydelige m√∏nstre gennem ugen, som du kan udnytte til din fordel:',
                _key: 'span18'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block9',
            style: 'h3',
            children: [
              {
                _type: 'span',
                text: 'Hverdage (Mandag-Fredag)',
                _key: 'span19'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block10',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'P√• hverdage ser vi typisk de h√∏jeste priser om morgenen (kl. 07-09) og igen om aftenen (kl. 17-20), n√•r danskerne kommer hjem fra arbejde. Industrien bruger mest str√∏m i dagtimerne, hvilket holder priserne oppe.',
                _key: 'span20'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block11',
            style: 'h3',
            children: [
              {
                _type: 'span',
                text: 'Weekender',
                _key: 'span21'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block12',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'I weekender falder priserne ofte med 15-30% sammenlignet med hverdage. Industriens reducerede forbrug kombineret med fortsat vindproduktion skaber gunstige priser - perfekt til vask, opvask og opladning.',
                _key: 'span22'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block13',
            style: 'h3',
            children: [
              {
                _type: 'span',
                text: 'Nattetimer',
                _key: 'span23'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block14',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Mellem kl. 00:00 og 06:00 er priserne n√¶sten altid lavest. Smart home-udstyr kan automatisk udnytte disse timer til opvaskemaskine, vaskemaskine og elbil-opladning.',
                _key: 'span24'
              }
            ]
          }
        ]
      },
      {
        _key: 'monthly-production',
        _type: 'monthlyProductionChart',
        title: 'Historisk Produktion og Prism√∏nstre',
        description: 'Se hvordan forskellige energikilder p√•virker priserne gennem √•ret.',
        showComparison: true,
        comparisonType: 'lastYear'
      },
      {
        _key: 'co2-chart',
        _type: 'co2EmissionsChart',
        title: 'CO2-Udledning og Elpriser',
        description: 'Lavere CO2-udledning betyder ofte lavere priser - takket v√¶re vindkraft.',
        showForecast: true,
        region: 'DK'
      },
      {
        _key: 'provider-list',
        _type: 'providerList',
        title: 'V√¶lg Den Rette Elleverand√∏r til Variable Priser',
        description: 'Med gode prognoser kan variable priser spare dig mange penge. V√¶lg en leverand√∏r med fokus p√• gr√∏n energi.',
        showDetailedPricing: true,
        showGreenEnergy: true,
        maxProviders: 6
      },
      {
        _key: 'info-cards',
        _type: 'infoCardsSection',
        heading: 'Vigtige Fakta om Elpris Prognoser',
        cards: [
          {
            _key: 'card1',
            _type: 'infoCard',
            title: 'Daglig Opdatering',
            description: 'Elpriser for n√¶ste dag offentligg√∏res hver dag kl. 13:00',
            icon: 'Clock'
          },
          {
            _key: 'card2',
            _type: 'infoCard',
            title: '48 Timers Horisont',
            description: 'Vi viser altid priser for i dag og i morgen time for time',
            icon: 'Calendar'
          },
          {
            _key: 'card3',
            _type: 'infoCard',
            title: 'Vejrbaseret',
            description: 'Vindprognoser er afg√∏rende for pr√¶cise prisprognoser',
            icon: 'Cloud'
          }
        ]
      },
      {
        _key: 'practical-tips',
        _type: 'pageSection',
        heading: 'Praktiske Tips: Udnyt Elpris Prognoser Optimalt',
        headerAlignment: 'left',
        content: [
          {
            _type: 'block',
            _key: 'block15',
            style: 'h3',
            children: [
              {
                _type: 'span',
                text: '1. Planl√¶g Store Apparater',
                _key: 'span25'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block16',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Vaskemaskine, t√∏rretumbler og opvaskemaskine bruger meget str√∏m. Ved at k√∏re dem i billige timer (typisk nat eller weekend) kan en familie spare 2.000-3.000 kr √•rligt.',
                _key: 'span26'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block17',
            style: 'h3',
            children: [
              {
                _type: 'span',
                text: '2. Oplad Elbilen Smart',
                _key: 'span27'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block18',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'En elbil bruger typisk 15-20 kWh per 100 km. Ved at oplade n√•r prisen er under 1 kr/kWh frem for 3 kr/kWh, sparer du 30-40 kr per opladning. Med smart opladning kan du spare over 5.000 kr √•rligt.',
                _key: 'span28'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block19',
            style: 'h3',
            children: [
              {
                _type: 'span',
                text: '3. Brug Timere og Smart Home',
                _key: 'span29'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block20',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Moderne apparater har ofte timer-funktioner. Smart home-udstyr kan automatisk t√¶nde og slukke baseret p√• elpriser. Investeringen tjener sig ofte hjem p√• under et √•r.',
                _key: 'span30'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block21',
            style: 'h3',
            children: [
              {
                _type: 'span',
                text: '4. Forst√• S√¶sonvariationer',
                _key: 'span31'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block22',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Vinter har generelt h√∏jere priser pga. √∏get forbrug og mindre sol. For√•r og efter√•r har ofte de laveste priser pga. god vindproduktion og moderat forbrug.',
                _key: 'span32'
              }
            ]
          }
        ]
      },
      {
        _key: 'technical-deep-dive',
        _type: 'pageSection',
        heading: 'Teknisk Forklaring: S√•dan Laves Elpris Prognoser',
        headerAlignment: 'center',
        content: [
          {
            _type: 'block',
            _key: 'block23',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Moderne elpris prognoser bruger avancerede matematiske modeller, der kombinerer flere datakilder:',
                _key: 'span33'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block24',
            style: 'h3',
            children: [
              {
                _type: 'span',
                text: 'Vejrdata og Vindprognoser',
                _key: 'span34'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block25',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Danmarks Meteorologiske Institut (DMI) leverer pr√¶cise vindprognoser, som er afg√∏rende for at forudsige vindm√∏lleproduktion. En vindhastigheds√¶ndring p√• blot 1 m/s kan p√•virke elprisen med 10-20 √∏re/kWh.',
                _key: 'span35'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block26',
            style: 'h3',
            children: [
              {
                _type: 'span',
                text: 'Machine Learning og AI',
                _key: 'span36'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block27',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Moderne prognosesystemer bruger kunstig intelligens til at analysere historiske m√∏nstre. Modellerne l√¶rer sammenh√¶nge mellem vejr, forbrug, ugedag, √•rstid og priser.',
                _key: 'span37'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block28',
            style: 'h3',
            children: [
              {
                _type: 'span',
                text: 'Markedsanalyse',
                _key: 'span38'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block29',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'Priser i nabolande, planlagte vedligeholdelser af kraftv√¶rker, og br√¶ndselspriser indg√•r alle i de komplekse modeller. Selv politiske beslutninger kan p√•virke priserne.',
                _key: 'span39'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block30',
            style: 'h3',
            children: [
              {
                _type: 'span',
                text: 'N√∏jagtighed',
                _key: 'span40'
              }
            ]
          },
          {
            _type: 'block',
            _key: 'block31',
            style: 'normal',
            children: [
              {
                _type: 'span',
                text: 'For n√¶ste dag er prognoserne meget pr√¶cise (95%+ n√∏jagtighed), da markedspriserne allerede er fastsat. For 2-7 dage frem er n√∏jagtigheden typisk 70-85%, prim√¶rt afh√¶ngig af vejrprognosernes pr√¶cision.',
                _key: 'span41'
              }
            ]
          }
        ]
      },
      {
        _key: 'regional-differences',
        _type: 'regionalComparison',
        title: 'DK1 vs DK2: Regionale Prisforskelle',
        description: 'Se hvordan elpriser varierer mellem Vest- og √òstdanmark.',
        showHistoricalTrend: true,
        showPriceDifference: true
      },
      {
        _key: 'faq-section',
        _type: 'faqGroup',
        title: 'Ofte Stillede Sp√∏rgsm√•l om Elpris Prognoser',
        description: 'Find svar p√• de mest almindelige sp√∏rgsm√•l om elpriser og prognoser.',
        faqItems: [
          { _type: 'reference', _ref: 'faq-prognoser-1' },
          { _type: 'reference', _ref: 'faq-prognoser-2' },
          { _type: 'reference', _ref: 'faq-prognoser-3' },
          { _type: 'reference', _ref: 'faq-prognoser-4' }
        ]
      },
      {
        _key: 'value-prop-1',
        _type: 'valueProposition',
        heading: 'Vindkraft G√∏r Forskellen',
        subheading: 'Danmark har Europas bedste foruds√¶tninger for billig, gr√∏n str√∏m',
        items: [
          { _type: 'reference', _ref: 'value-prop-wind-1' },
          { _type: 'reference', _ref: 'value-prop-wind-2' },
          { _type: 'reference', _ref: 'value-prop-wind-3' }
        ]
      },
      {
        _key: 'fixed-vs-variable',
        _type: 'pricingComparison',
        title: 'Fast Pris eller Variabel? Prognoser Hj√¶lper Dig V√¶lge',
        description: 'Med gode prognoser kan variable priser v√¶re det bedste valg for de fleste.',
        showCalculator: true,
        showRecommendation: true
      },
      {
        _key: 'cta-final',
        _type: 'callToActionSection',
        heading: 'Start Din Besparelse i Dag',
        description: 'F√• daglige elpris prognoser og spar tusindvis af kroner √•rligt. V√¶lg en elleverand√∏r der giver dig fleksibilitet og gr√∏n energi.',
        primaryButtonText: 'Find din elleverand√∏r',
        primaryButtonLink: '/sammenlign',
        secondaryButtonText: 'Se dagens priser',
        secondaryButtonLink: '/elpriser',
        variant: 'centered'
      }
    ]
  }

  // Deploy the page
  console.log('üìÑ Creating comprehensive Prognoser page...')
  try {
    const result = await client.createOrReplace(prognoserPage)
    console.log('‚úÖ Page created successfully:', result._id)
    console.log('üîó View in Sanity Studio: https://dinelportal.sanity.studio/structure/page;page.prognoser')
    console.log('üåê Frontend URL: /prognoser')
  } catch (error) {
    console.error('‚ùå Error creating page:', error)
    throw error
  }
}

// Run deployment
deployPrognoserPage()
  .then(() => {
    console.log('üéâ Deployment completed successfully!')
    process.exit(0)
  })
  .catch((error) => {
    console.error('üí• Deployment failed:', error)
    process.exit(1)
  })